<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.76.5" />
    <meta name="description" content="Overwatch Documentation">
<meta name="author" content="Daniel Tomes -- DatabricksLabs">

    <link rel="icon" href="https://databrickslabs.github.io/overwatch/images/favicon.png" type="image/png">

    <title>Welcome To OverWatch :: Overwatch</title>

    
    <link href="https://databrickslabs.github.io/overwatch/css/nucleus.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/fontawesome-all.min.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/hybrid.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/featherlight.min.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/perfect-scrollbar.min.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/auto-complete.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/atom-one-dark-reasonable.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/theme.css?1644000042" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/hugo-theme.css?1644000042" rel="stylesheet">
    
    <link href="https://databrickslabs.github.io/overwatch/css/theme-blue.css?1644000042" rel="stylesheet">
    
    

    <script src="https://databrickslabs.github.io/overwatch/js/jquery-3.3.1.min.js?1644000042"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body class="" data-url="https://databrickslabs.github.io/overwatch/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://databrickslabs.github.io/overwatch/">
    <img src="https://databrickslabs.github.io/overwatch/images/tmp_logo4.png", width="85%">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/lunr.min.js?1644000042"></script>
<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/auto-complete.js?1644000042"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/databrickslabs.github.io\/overwatch\/";
    
</script>
<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/search.js?1644000042"></script>

    
  </div>
  
  <section id="homelinks">
    <ul>
      <li>
        <a class="padding" href='https://databrickslabs.github.io/overwatch/'><i class='fas fa-home'></i> Home</a>
      </li>
    </ul>
  </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/gettingstarted/" title="Getting Started" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/gettingstarted/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/configuration/" title="Configuration" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/modules/" title="Modules" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/modules/">
        Modules
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/advancedtopics/" title="Advanced Topics" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/advancedtopics/">
        Advanced Topics
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/environmentsetup/" title="Environment Setup" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/environmentsetup/">
          Environment Setup
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/azure/" title="Azure" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/environmentsetup/azure/">
        Azure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/aws/" title="AWS" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/environmentsetup/aws/">
        AWS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dataengineer/" title="Data Engineering" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/dataengineer/">
          Data Engineering
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/dataengineer/definitions/" title="Definitions" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/dataengineer/definitions/">
        Definitions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/dataengineer/etl_process/" title="ETL Process" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/dataengineer/etl_process/">
        ETL Process
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/dataengineer/upgrade/" title="Upgrade" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/dataengineer/upgrade/">
        Upgrade
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/changelog/" title="ChangeLog" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/changelog/">
          ChangeLog
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/faq/" title="FAQ" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/faq/">
          FAQ
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contributing/" title="" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/contributing/">
          
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>

    
    <a class="github-button" href="https://github.com/databrickslabs/overwatch/subscription"
       data-icon="octicon-eye" data-show-count="true" aria-label="Watch Overwatch on GitHub">Watch</a>


    <a class="github-button" href="https://github.com/databrickslabs/overwatch" data-icon="octicon-star" data-show-count="true" aria-label="Star databrickslabs/overwatch on GitHub">Star</a>


    <a class="github-button" href="https://github.com/databrickslabs/overwatch/fork"
       data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork Overwatch on GitHub">Fork</a>

    <p>A <a href="https://github.com/databrickslabs">Databricks Labs</a> project.</p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          

        

<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 
<h2 id="project-overview">Project Overview</h2>
<p>Overwatch was built to enable Databricks' customers, employees, and partners to quickly / easily understand 
operations within Databricks deployments. As enterprise adoption increases there&rsquo;s an ever-growing need for strong
governance. Overwatch means to enable users to quickly answer questions and then drill down to make effective 
operational changes. Common examples of operational activities Overwatch assists with are:</p>
<ul>
<li>Cost tracking by various dimensions</li>
<li>Governance at various dimensions</li>
<li>Optimization Opportunities</li>
<li>What If Experiments</li>
</ul>
<h2 id="how-much-does-it-cost">How Much Does It Cost</h2>
<p>Overwatch is currently a Databricks Labs project and has <strong>no direct cost</strong> associated with it other than the costs
incurred with running the daily jobs. Audit logging is required and as such a 
<a href="https://databricks.com/product/azure-pricing"><strong>Azure Databricks Premium SKU</strong></a> <strong>OR</strong>
the equivalent <a href="https://databricks.com/product/aws-pricing"><strong>AWS Premium Plan</strong></a> or above.
As a reference, a cost analysis was performed at a large Databricks customer.
This customer had &gt;1000 named users with &gt;400 daily active users with a contract price with Databricks over $2MM/year. 
Overwatch costs them approximately $8 USD / day to run which includes storage, compute, and DBUs. $8 / day == 
approximately $3,000 / year or <strong>0.15% of Databricks contract price</strong>. This is just a single reference customer but 
cost monitoring for your Overwatch job should be the same as any other job you run. At the time of this writing 
Overwatch has only been deployed as a pilot and has already proven several million dollars in value. The savings 
customers found through these efficiency improvements allowed them to accelerate their backlogs, permanently lower the 
total cost of ownership, and even take on additional exploratory efforts.</p>
<h2 id="how-it-works">How It Works</h2>
<p>Overwatch has two primary modes, Historical &amp; Realtime</p>
<ul>
<li><strong>Historical</strong> &ndash; Good for identifying trends, outliers, issues, challenges</li>
<li><strong>Realtime</strong> &ndash; Good for monitoring / alerting
<ul>
<li>Utilizes standard integrated drop-wizard and collectd data publications methods through Graphite or Prometheus.
See <a href="https://spark.apache.org/docs/latest/monitoring.html#monitoring-and-instrumentation">Spark Monitoring</a> for more information</li>
<li>Init script to be published ASAP but requires client-side architecture set up. Example client-side 
architecture <a href="#realtime--monitoring--alerting">available below</a>.</li>
</ul>
</li>
</ul>
<h3 id="data-process-flow">Data Process Flow</h3>
<p><img src="https://databrickslabs.github.io/overwatch/images/_index/ProcessFlow.png" alt="OverwatchProcessFlow"></p>
<h3 id="batch--historical">Batch / Historical</h3>
<p>Overwatch amalgamates and unifies all the logs produced by Spark and Databricks via a periodic job run (typically 
1x/day). The Overwatch job then enriches this data through various API calls to the Databricks platform and, 
in some cases, the cloud provider. Finally, all the data is pulled together into a data model 
that enables simplified queries for powerful insights and governance. Below are a few example reports produced
by Overwatch. The batch / historical data is typically used to identify the proper boundaries that can later be used
to set up monitoring / alerts in the real-time modules.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Hot Notebooks</th>
<th style="text-align:center">Heavy User Breakdown</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://databrickslabs.github.io/overwatch/images/_index/Hot_Notebooks.png" alt="BatchReport1"></td>
<td style="text-align:center"><img src="https://databrickslabs.github.io/overwatch/images/_index/outlierUserDetail.png" alt="BatchReport2"></td>
</tr>
</tbody>
</table>
<h3 id="realtime--monitoring--alerting">Realtime / Monitoring / Alerting</h3>
<p>Overwatch does have a configurable, near-realtime component that allows users to retrieve metrics at a configurable
frequency (i.e. 5s/120s/etc). This is enabled through <a href="https://spark.apache.org/docs/latest/monitoring.html">DropWizard</a> (a default spark monitoring platform) and a 
time-series database (TSDB) called &ldquo;whisper&rdquo; which is wrapped by Graphite. Graphite offers many exposed APIs upon which 
any front-end TSDB reporting tool can be used, such as Grafana. Graphite and Grafana are used by default as they do not
require a license for basic use and Grafana is very common in the industry. Very powerful monitoring dashboards
along with configured alerting can be enabled through Grafana.</p>

<div class="notices note" ><p>The realtime architecture has been created but 1-click delivery has not yet been enabled. Currently, realtime 
integration is up to the customer to integrate. For guidance / assistance in configuring the Overwatch real-time, 
please reach out to your Databricks account team to set up an discovery meeting.</p>
</div>

<h4 id="example-realtime-architecture">Example Realtime Architecture</h4>
<p><img src="https://databrickslabs.github.io/overwatch/images/_index/Realtime_example_architecture.png" alt="RealTime Diagram"></p>
<h4 id="example-realtime-dashboards">Example Realtime Dashboards</h4>
<table>
<thead>
<tr>
<th style="text-align:center">Simple Spark Dashboard</th>
<th style="text-align:center">IO Dashboard</th>
<th style="text-align:center">Advanced Dashboard</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://databrickslabs.github.io/overwatch/images/_index/spark_dashboard1.png" alt="RealTime Dasboard1"></td>
<td style="text-align:center"><img src="https://databrickslabs.github.io/overwatch/images/_index/spark_dashboard2.png" alt="RealTime Dasboard2"></td>
<td style="text-align:center"><img src="https://databrickslabs.github.io/overwatch/images/_index/spark_dashboard3.png" alt="RealTime Dasboard3"></td>
</tr>
</tbody>
</table>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
		
			<a class="nav nav-next" href="https://databrickslabs.github.io/overwatch/gettingstarted/" title="Getting Started" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://databrickslabs.github.io/overwatch/js/clipboard.min.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/perfect-scrollbar.min.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/perfect-scrollbar.jquery.min.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/jquery.sticky.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/featherlight.min.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/highlight.pack.js?1644000042"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://databrickslabs.github.io/overwatch/js/modernizr.custom-3.6.0.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/learn.js?1644000042"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/hugo-learn.js?1644000042"></script>

    <link href="https://databrickslabs.github.io/overwatch/mermaid/mermaid.css?1644000042" rel="stylesheet" />
    <script src="https://databrickslabs.github.io/overwatch/mermaid/mermaid.js?1644000042"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

