<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Deploying To Unity Catalog on Overwatch</title>
    <link>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/</link>
    <description>Recent content in Deploying To Unity Catalog on Overwatch</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Tue, 18 Apr 2023 11:28:39 -0500</lastBuildDate>
    <atom:link href="https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>UC Pre-Requisites</title>
      <link>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceprereqs/</link>
      <pubDate>Tue, 18 Apr 2023 11:28:39 -0500</pubDate>
      <guid>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceprereqs/</guid>
      <description>&lt;h2 id=&#34;unity-catalog-prerequisites&#34;&gt;Unity Catalog Prerequisites&lt;/h2&gt;&#xA;&lt;p&gt;After all UC Pre-requisites are completed, please continue to &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/&#34;&gt;Deploy Overwatch&lt;/a&gt;&#xA;section.&lt;/p&gt;&#xA;&lt;p&gt;This section will walk you through the steps necessary as a prerequisite to deploy Overwatch on Unity Catalog.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Workspace&lt;/strong&gt; should be &lt;strong&gt;UC enabled&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Overwatch Pipeline &lt;strong&gt;Cluster&lt;/strong&gt; must be &lt;strong&gt;UC enabled&lt;/strong&gt; (single user and runtime version &amp;gt; 11.3+).&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/cloudstorageaccessrequirements/&#34;&gt;UC &lt;strong&gt;Storage Requirements&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Create &lt;strong&gt;Storage Credentials&lt;/strong&gt; to be used by the external locations provisioned with appropriate read/write&#xA;access to the UC External Location&#xA;(&lt;a href=&#34;https://docs.databricks.com/data-governance/unity-catalog/manage-external-locations-and-credentials.html#create-a-storage-credential&#34;&gt;AWS&lt;/a&gt; |&#xA;&lt;a href=&#34;https://docs.gcp.databricks.com/data-governance/unity-catalog/manage-external-locations-and-credentials.html#manage-storage-credentials&#34;&gt;GCP&lt;/a&gt; |&#xA;&lt;a href=&#34;https://learn.microsoft.com/en-gb/azure/databricks/data-governance/unity-catalog/manage-external-locations-and-credentials#--create-a-storage-credential&#34;&gt;AZURE&lt;/a&gt;)&#xA;with privileges:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;READ FILES&lt;/li&gt;&#xA;&lt;li&gt;WRITE FILES&lt;/li&gt;&#xA;&lt;li&gt;CREATE EXTERNAL TABLE&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Create &lt;strong&gt;UC External location&lt;/strong&gt; where Overwatch data is to be stored&#xA;(&lt;a href=&#34;https://docs.databricks.com/data/manage-external-locations.html#manage-unity-catalog-external-locations-in-data-explorer&#34;&gt;AWS&lt;/a&gt; |&#xA;&lt;a href=&#34;https://docs.gcp.databricks.com/data/manage-external-locations.html#manage-unity-catalog-external-locations-in-data-explorer&#34;&gt;GCP&lt;/a&gt; |&#xA;&lt;a href=&#34;https://learn.microsoft.com/en-gb/azure/databricks/data/manage-external-locations#create-external-location&#34;&gt;AZURE&lt;/a&gt;).&#xA;Provide ALL PRIVILEGES permission to the principal (user/SP) that is going to run the Overwatch Pipeline.&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Ensure the external location path is pointing to the same storage location to which the storage credential&amp;rsquo;s&#xA;identity was authorized&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Create a &lt;strong&gt;Catalog&lt;/strong&gt; or identify an existing catalog where overwatch data will be stored.&#xA;&lt;strong&gt;Overwatch&lt;/strong&gt; code &lt;strong&gt;WILL NOT&lt;/strong&gt; create the catalog, it must be pre-existing.&lt;/li&gt;&#xA;&lt;li&gt;Principal (user/SP) executing the Overwatch Pipeline must have access to the &lt;strong&gt;catalog&lt;/strong&gt; with &lt;strong&gt;privileges&lt;/strong&gt;:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;USE CATALOG&lt;/li&gt;&#xA;&lt;li&gt;USE SCHEMA&lt;/li&gt;&#xA;&lt;li&gt;SELECT&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Create ETL and Consumer Schemas&lt;/strong&gt; (i.e. databases). &lt;strong&gt;Overwatch WILL NOT&lt;/strong&gt; create the Schemas in a UC Deployment.&#xA;Principal (user/SP) executing the Overwatch Pipeline must have the following privileges on the Schema AND must be&#xA;an Owner of the Schema.&#xA;&lt;ul&gt;&#xA;&lt;li&gt;IS OWNER &amp;ndash; required since schema metadata is edited and requires schema ownership&#xA;&lt;ul&gt;&#xA;&lt;li&gt;The schema owner can be a user, service principal, or group. It&amp;rsquo;s recommended that you provision an&#xA;Overwatch_Maintainers group and place the Overwatch Admin users in this group along with any service principals&#xA;that will be writing data to the output and assign this group as owner of the Overwatch schemas.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;USE SCHEMA&lt;/li&gt;&#xA;&lt;li&gt;CREATE TABLE&lt;/li&gt;&#xA;&lt;li&gt;MODIFY&lt;/li&gt;&#xA;&lt;li&gt;SELECT&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Overwatch latest version(0.7.2.0+) should be deployed in the workspace&#xA;&lt;ul&gt;&#xA;&lt;li&gt;0.7.1.1+ is ok so long as the &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/migratingtouc/&#34;&gt;migration process&lt;/a&gt;&#xA;is completed before executing with Unity Catalog configurations.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Other overwatch prerequisites can be found &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/cloudinfra/&#34;&gt;here&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;sql-command-to-grant-permissions-to-various-uc-objects&#34;&gt;SQL Command to Grant Permissions to various UC Objects&lt;/h2&gt;&#xA;&lt;p&gt;The following can be done through the UI or via commands as shown below&lt;/p&gt;</description>
    </item>
    <item>
      <title>UC Configuration Details</title>
      <link>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceconfiguration/</link>
      <pubDate>Tue, 18 Apr 2023 11:28:39 -0500</pubDate>
      <guid>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceconfiguration/</guid>
      <description>&lt;h2 id=&#34;configuration-changes-required-for-uc-enablement&#34;&gt;Configuration changes required for UC Enablement&lt;/h2&gt;&#xA;&lt;p&gt;There is no unique configuration process for UC; however, the format for the &lt;strong&gt;THREE CONFIGURATIONS&lt;/strong&gt; below&#xA;are specific for UC Enablement. For all other configurations, please follow the&#xA;&lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/configureoverwatch/configuration/&#34;&gt;Configuration&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;etl_database_name&lt;/strong&gt; - &amp;lt;catalog_name&amp;gt;.&amp;lt;etl_database_name&amp;gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;consumer_database_name&lt;/strong&gt; - &amp;lt;catalog_name&amp;gt;.&amp;lt;consumer_database_name&amp;gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;storage_prefix&lt;/strong&gt; -  &amp;lt;UC External Location&amp;gt;/&amp;lt;storage_prefix&amp;gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;div class=&#34;notices note&#34; &gt;&lt;p&gt;With the release of Overwatch 0.8.2.0, we have added support for Multi Catalog Overwatch Deployment.&#xA;Now user can provide different catalogs for ETL Database and Consumer Database.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Migrating To UC</title>
      <link>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/migratingtouc/</link>
      <pubDate>Tue, 18 Apr 2023 11:28:39 -0500</pubDate>
      <guid>https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/migratingtouc/</guid>
      <description>&lt;h2 id=&#34;migrating-existing-deployment-from-hive_metastore-to-uc&#34;&gt;Migrating Existing Deployment From Hive_Metastore To UC&lt;/h2&gt;&#xA;&lt;p&gt;Migrating a deployment from Hive Metastore has been made very simple. The steps are&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Complete the &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceprereqs/&#34;&gt;UC Pre-Requisites&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Ensure &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/cloudstorageaccessrequirements/&#34;&gt;storage is set up correctly&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Update the &lt;a href=&#34;https://databrickslabs.github.io/overwatch/deployoverwatch/ucedeployment/uceconfiguration/&#34;&gt;Overwatch Configuration appropriately for UC&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Use the Migration Notebook below to migrate the data from Hive to UC&lt;/li&gt;&#xA;&lt;li&gt;Resume the job&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;migration-notebook&#34;&gt;Migration Notebook&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Migration Notebook&lt;/strong&gt; ( &lt;a href=&#34;https://databrickslabs.github.io/overwatch/assets/DeployOverwatch/UC_Migration_Utility-Hive_metastore_To_Unity_Catalog.html&#34;&gt;&lt;strong&gt;HTML&lt;/strong&gt;&lt;/a&gt; |&#xA;&lt;a href=&#34;https://databrickslabs.github.io/overwatch/assets/DeployOverwatch/UC_Migration_Utility-Hive_metastore_To_Unity_Catalog.dbc&#34;&gt;&lt;strong&gt;DBC&lt;/strong&gt;&lt;/a&gt; )&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Details to Run are in the notebook&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
  </channel>
</rss>
