<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.76.5" />
    <meta name="description" content="Overwatch Documentation">
<meta name="author" content="Daniel Tomes -- DatabricksLabs">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Welcome To OverWatch :: Overwatch</title>

    
    <link href="/css/nucleus.css?1603925781" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1603925781" rel="stylesheet">
    <link href="/css/hybrid.css?1603925781" rel="stylesheet">
    <link href="/css/featherlight.min.css?1603925781" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1603925781" rel="stylesheet">
    <link href="/css/auto-complete.css?1603925781" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1603925781" rel="stylesheet">
    <link href="/css/theme.css?1603925781" rel="stylesheet">
    <link href="/css/hugo-theme.css?1603925781" rel="stylesheet">
    
    <link href="/css/theme-blue.css?1603925781" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1603925781"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://tomesdata.z20.web.core.windows.net/">
    <img src="/images/tmp_logo4.png", width="85%">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1603925781"></script>
<script type="text/javascript" src="/js/auto-complete.js?1603925781"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/tomesdata.z20.web.core.windows.net\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1603925781"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/userguide/" title="UserGuide" class="dd-item 
        
        
        
        ">
      <a href="/userguide/">
          UserGuide
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/userguide/getting-started/" title="Getting Started" class="dd-item ">
        <a href="/userguide/getting-started/">
        Getting Started
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/configuration/" title="Configuration" class="dd-item ">
        <a href="/userguide/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/modules/" title="Modules" class="dd-item ">
        <a href="/userguide/modules/">
        Modules
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/advancedtopics/" title="Advanced Topics" class="dd-item ">
        <a href="/userguide/advancedtopics/">
        Advanced Topics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="/userguide/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/upgrading/" title="Upgrading" class="dd-item ">
        <a href="/userguide/upgrading/">
        Upgrading
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/userguide/roadmap/" title="Roadmap" class="dd-item ">
        <a href="/userguide/roadmap/">
        Roadmap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/environmentsetup/" title="EnvironmentSetup" class="dd-item 
        
        
        
        ">
      <a href="/environmentsetup/">
          EnvironmentSetup
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/azure/" title="Azure" class="dd-item ">
        <a href="/environmentsetup/azure/">
        Azure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/aws/" title="AWS" class="dd-item ">
        <a href="/environmentsetup/aws/">
        AWS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contributing/" title="" class="dd-item 
        
        
        
        ">
      <a href="/contributing/">
          
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>A <a href="https://github.com/databrickslabs">Databricks Labs</a> project.</p>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          

        

<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 
<h2 id="project-overview">Project Overview</h2>
<p>Overwatch was built to enable Databricks' customers, employees, and partners to quickly / easily understand 
operations within Databricks deployments. As enterprise adoption increases there&rsquo;s an ever-growing need for strong
governance. Overwatch means to enable users to quickly answer questions and then drill down to make effective 
operational changes. Common examples of operational activities Overwatch assists with are:</p>
<ul>
<li>Cost tracking by various dimensions</li>
<li>Governance at various dimensions</li>
<li>Optimization Opportunities</li>
<li>What If Experiments</li>
</ul>
<h2 id="how-much-does-it-cost">How Much Does It Cost</h2>
<p>Overwatch is currently a Databricks Labs project and has <strong>no direct cost</strong> associated with it other than the costs
incurred with running the daily jobs. As a reference, a cost analysis was performed at a large Databricks customer. 
This customer had &gt;1000 named users with &gt;400 daily active users with a contract price with Databricks over $2MM/year. 
Overwatch costs them approximately $8 USD / day to run which includes storage, compute, and DBUs. $8 / day == 
approximately $3,000 / year or <strong>0.15% of Databricks contract price</strong>. This is just a single reference customer but 
cost monitoring for your Overwatch job should be the same as any other job you run. At this specific customer, 
Overwatch was used to discover &gt; $2MM / year in savings between Databricks and their cloud provider. This additional
$2MM/year enabled this customer to greatly accelerate its backlog and significantly lower cost of ownership.</p>
<h2 id="how-it-works">How It Works</h2>
<p>Overwatch has two primary modes, Historical &amp; Realtime</p>
<ul>
<li><strong>Historical</strong> &ndash; Good for identifying trends, outliers, issues, challenges</li>
<li><strong>Realtime</strong> (coming 2021) &ndash; Good for monitoring / alerting</li>
</ul>
<h3 id="data-process-flow">Data Process Flow</h3>
<p><img src="/images/_index/ProcessFlow.png" alt="OverwatchProcessFlow"></p>
<h3 id="batch--historical">Batch / Historical</h3>
<p>Overwatch amalgamates and unifies all the logs produced by Spark and Databricks via a periodic job run (typically 
1x/day). The Overwatch job then enriches this data through various API calls to the Databricks platform and, 
in some cases, the cloud provider. Finally, all the data is pulled together into a data model 
that enables simplified queries for powerful insights and governance. Below are a few example reports produced
by Overwatch. The batch / historical data is typically used to identify the proper boundaries that can later be used
to set up monitoring / alerts in the real-time modules.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Hot Notebooks</th>
<th style="text-align:center">Heavy User Breakdown</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="/images/_index/Hot_Notebooks.png" alt="BatchReport1"></td>
<td style="text-align:center"><img src="/images/_index/outlierUserDetail.png" alt="BatchReport2"></td>
</tr>
</tbody>
</table>
<h3 id="realtime--monitoring--alerting">Realtime / Monitoring / Alerting</h3>
<p>Overwatch does have a configurable, near-realtime component that allows users to retrieve metrics at a configurable
frequency (i.e. 5s/120s/etc). This is enabled through <a href="">DropWizard</a> (a default spark monitoring platform) and a 
time-series database (TSDB) called &ldquo;whisper&rdquo; which is wrapped by Graphite. Graphite offers many exposed APIs upon which 
any front-end TSDB reporting tool can be used, such as Grafana. Graphite and Grafana are used by default as they do not
require a license for basic use and Grafana is very common in the industry. Very powerful monitoring dashboards
along with configured alerting can be enabled through Grafana.</p>

<div class="notices note" ><p>The realtime modules are set to be released as part of Overwatch as soon as possible. The Dev team is targeting
Q1 2021 for release but this is not a guarantee. Realtime is not being released as part of v1.0 as the cloud 
infrastructure has not been enabled via one-click deploy just yet. As such, there&rsquo;s no reason a user cannot enable
this but it&rsquo;s outside the scope of the Overwatch project at this time. Below is an example realtime architecture
diagram to assist in the event you want to tackle this before it&rsquo;s packaged with Overwatch.</p>
</div>

<h4 id="example-realtime-architecture">Example Realtime Architecture</h4>
<p><img src="/images/_index/Realtime_example_architecture.png" alt="RealTime Diagram"></p>
<h4 id="example-realtime-dashboards">Example Realtime Dashboards</h4>
<table>
<thead>
<tr>
<th style="text-align:center">Simple Spark Dashboard</th>
<th style="text-align:center">IO Dashboard</th>
<th style="text-align:center">Advanced Dashboard</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="/images/_index/spark_dashboard1.png" alt="RealTime Dasboard1"></td>
<td style="text-align:center"><img src="/images/_index/spark_dashboard2.png" alt="RealTime Dasboard2"></td>
<td style="text-align:center"><img src="/images/_index/spark_dashboard3.png" alt="RealTime Dasboard3"></td>
</tr>
</tbody>
</table>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
		
			<a class="nav nav-next" href="/userguide/" title="UserGuide" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1603925781"></script>
    <script src="/js/perfect-scrollbar.min.js?1603925781"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1603925781"></script>
    <script src="/js/jquery.sticky.js?1603925781"></script>
    <script src="/js/featherlight.min.js?1603925781"></script>
    <script src="/js/highlight.pack.js?1603925781"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1603925781"></script>
    <script src="/js/learn.js?1603925781"></script>
    <script src="/js/hugo-learn.js?1603925781"></script>

    <link href="/mermaid/mermaid.css?1603925781" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1603925781"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

